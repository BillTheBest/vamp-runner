<div class="recipes-container" ng-class="{'transparent': transparent}" ng-controller="RecipesCtrl">

    <label class="select-all-label checkbox-inline custom-checkbox nowrap">
        <input type="checkbox"
               ng-click="selectAll($event)"
               ng-checked="isSelectedAll()"
               ng-disabled="isRunning()">
        <span class="select-all-label">Select All</span>
    </label>

    <div class="action-buttons">
        <div class="btn-group" role="group">
            <button type="button"
                    class="btn btn-primary btn-with-icon"
                    ng-click="run()"
                    ng-disabled="isRunning() || !isSelectedAny()"
                    title="Run all selected recipes"><i class="ion-play"></i>run
            </button>
            <button type="button"
                    class="btn btn-primary btn-with-icon"
                    ng-click="abort()"
                    ng-disabled="!isRunning()"
                    title="Abort all"><i class="ion-stop"></i>abort
            </button>
            <button type="button"
                    class="btn btn-primary btn-with-icon"
                    ng-click="purge()"
                    ng-disabled="isRunning() || !isSelectedAny()"
                    title="Remove all artifacts for selected recipes"><i class="ion-scissors"></i>purge
            </button>
        </div>
    </div>

    <div class="box-shadow-border"></div>

    <ul class="recipes" ng-model="recipes">
        <li ng-repeat="item in recipes"
            ng-init="activeItem=false"
            ng-class="{checked: isSelected(item.id), active: activeItem}"
            ng-mouseenter="activeItem=true"
            ng-mouseleave="activeItem=false"
            ng-disabled="isRunning()">
            <div class="blur-container">
                <div class="blur-box"></div>
            </div>
            <label class="recipe-checkbox custom-checkbox custom-input-success">
                <input type="checkbox" name="selected"
                       ng-checked="isSelected(item.id)"
                       ng-click="updateSelection($event, item.id)"
                       ng-disabled="isRunning()">
                <span class="cut-with-dots">{{ item.name }}</span>
            </label>
            <i class="recipe success ion-record" ng-show="item.state === 'success'"></i>
            <i class="recipe failure ion-record" ng-show="item.state === 'failure'"></i>
            <i class="recipe running ion-record" ng-show="item.state === 'running'"></i>
            <i class="recipe aborted ion-record" ng-show="item.state === 'aborted'"></i>
            <i class="recipe ready ion-record" ng-show="item.state === 'idle'"></i>

            <a href="javascript: void(0);" ng-click="details(item)" ng-show="!isRunning()">
                <i class="recipe-details ion-arrow-expand"></i>
            </a>
            <i class="recipe-details ion-ios-stopwatch" ng-show="isRunning()"></i>
        </li>
    </ul>
</div>
